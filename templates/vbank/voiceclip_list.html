{% extends "voice_clips_base.html" %}

{% block page_title %}&mdash; Voice Clips{% endblock %}

{% load vbank_tags %}

{% load thumbnail %}

{% block app %}
<div class="container">
  <div class="voiceclips row">
    <div class="col-md-4">
      <div class="page-header">
        <h2>Search <small class="pull-right"><a href="{% url 'all_clips' %}">All Voice Clips</a></small></h2>
      </div>
      <form method="post" class="clip-search">
        {% csrf_token %}
	{{ form.non_field_errors }}
        <div class="form-group">
          {{ form.category.errors }}
          <label for="{{ form.category.id_for_label }}">{{ form.category.label }}</label>
          {{ form.category }}
        </div>
        <div class="form-group">
          {{ form.language.errors }}
          <label for="{{ form.language.id_for_label }}">{{ form.language.label }}</label>
          {{ form.language }}
        </div>
        <div class="form-group">
          {{ form.gender.errors }}
          <label for="{{ form.gender.id_for_label }}">{{ form.gender.label }}</label>
          {{ form.gender }}
        </div>
        <div class="form-group">
          {{ form.age_group.errors }}
          <label for="{{ form.age_group.id_for_label }}">{{ form.age_group.label }}</label>
          {{ form.age_group }}
        </div>
        <button type="submit" class="btn btn-default">Submit</button>
      </form>
    </div>
    <div class="col-md-8">
      <div class="row">
        <div class="col-md-12">
          <div class="page-header">
            <h3>{{ page_header }}</h3>
          </div>
        </div>
      </div>
      <div class="row">
        {% if voiceclip_list %}
          {% for clip in voiceclip_list %}
            {% if clip.is_active %}
              <div class="col-md-6">
                {% display_clip clip %}
              </div>
            {% endif %}
          {% endfor %}
        {% else %}
          <div class="col-md-12"><p>There are no voice clips.</p></div>
        {% endif %}
      </div>
      <div class="row">
        <nav>
          <ul class="pager">
            {% if voiceclip_list.has_previous %}
              <li class="previous col-md-6">
              <a href="?page={{ voiceclip_list.previous_page_number }}{% if form.category.value %}&category={{ form.category.value }}{% endif %}{% if form.language.value %}&language={{ form.language.value }}{% endif %}{% if form.gender.value %}&gender={{ form.gender.value }}{% endif %}{% if form.age_group.value %}&age_group={{ form.age_group.value }}{% endif %}">
                  <span aria-hidden="true">&larr;</span> Previous
                </a>
              </li>
            {% endif %}
            {% if voiceclip_list.has_next %}
              <li class="next col-md-6 pull-right">
                <a href="?page={{ voiceclip_list.next_page_number }}{% if form.category.value %}&category={{ form.category.value }}{% endif %}{% if form.language.value %}&language={{ form.language.value }}{% endif %}{% if form.gender.value %}&gender={{ form.gender.value }}{% endif %}{% if form.age_group.value %}&age_group={{ form.age_group.value }}{% endif %}">
                  Next <span aria-hidden="true">&rarr;</span>
                </a>
              </li>
            {% endif %}
          </ul>
        </nav>
      </div>
    </div>
  </div>
</div>
{% endblock %}
